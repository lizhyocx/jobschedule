<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>ibatis-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>ibatis</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>ibatis-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- ============================================================================= -->
<!-- <mapper namespace="User"> -->
<mapper namespace="com.lizhy.auto.dao">

    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->


    <!-- result maps for database table user -->
    <resultMap id="RM-USER" type="com.lizhy.auto.model.UserDO">
        <result property="id" column="id" javaType="java.lang.Integer"  jdbcType="INTEGER"  />
        <result property="name" column="name" javaType="java.lang.String"   jdbcType="VARCHAR"  />
        <result property="age" column="age" javaType="java.lang.Integer"  jdbcType="INTEGER"  />
        <result property="password" column="password" javaType="java.lang.String"   jdbcType="VARCHAR"  />
    </resultMap>

    <!-- ============================================= -->
    <!-- mapped statements for UserDAOImpl -->
    <!-- ============================================= -->
    <!-- mapped statement for UserDAOImpl.insertUser -->
	<insert id="USER-INSERT-USER">
	insert into test_user
				(name, age, password)
			values(#{name}, #{age}, #{password})
    <selectKey resultType="java.lang.Integer" order="AFTER" keyProperty="id">
		SELECT LAST_INSERT_ID()
    </selectKey>
	</insert>

    <!-- mapped statement for UserDAOImpl.selectCountByAge -->
    <select id="USER-SELECT-COUNT-BY-AGE" resultType="java.lang.Long">
        select count(*) from test_user where age between #{minAge} and #{maxAge}
    </select>

    <!-- mapped statement for UserDAOImpl.updateUser -->
    <update id="USER-UPDATE-USER">
        update test_user set age = #{age}, password=#{password}
			where name = #{name}
    </update>

    <!-- mapped statement for UserDAOImpl.selectByName -->
    <select id="USER-SELECT-BY-NAME" resultMap="RM-USER">
        select * from test_user
			where name = #{name}
    </select>

    <!-- mapped statement for UserDAOImpl.selectById -->
    <select id="USER-SELECT-BY-ID" resultMap="RM-USER">
        select * from test_user
			where id = #{id}
    </select>

    <!-- mapped statement for UserDAOImpl.deleteByName -->
    <delete id="USER-DELETE-BY-NAME">
        delete from test_user
			where name = #{name}
    </delete>

</mapper>